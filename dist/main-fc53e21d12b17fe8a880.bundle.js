(()=>{"use strict";var e,t,i,s={991:(e,t,i)=>{var s=i(440),r=i.n(s);const n=i.p+"asset-packs/preload-asset-pack-a0c8695f98f8afae49e5.json",o=i.p+"asset-packs/asset-pack-c55edc90519c5cbc9219.json";class a extends Phaser.Scene{constructor(){super("Preload")}editorCreate(){const e=this.add.image(505.0120544433594,360,"guapen");e.scaleX=.32715486817515643,e.scaleY=.32715486817515643;const t=this.add.rectangle(553.0120849609375,361,256,20);t.setOrigin(0,0),t.isFilled=!0,t.fillColor=14737632;const i=this.add.rectangle(553.0120849609375,361,256,20);i.setOrigin(0,0),i.fillColor=14737632,i.isStroked=!0;const s=this.add.text(552.0120849609375,329,"",{});s.text="Loading...",s.setStyle({color:"#e0e0e0",fontFamily:"arial",fontSize:"20px"}),this.progressBar=t,this.events.emit("scene-awake")}progressBar;preload(){this.editorCreate(),this.load.pack("asset-pack",o);const e=this.progressBar.width;this.load.on("progress",(t=>{this.progressBar.width=e*t}))}create(){this.scene.start("VisualNovel")}}class c{scene;characters;characterEmotions;CHARACTER_SCALE=.25;constructor(e){this.scene=e,this.characters=new Map,this.characterEmotions=new Map,this.initializeCharacters()}initializeCharacters(){this.createCharacter("main_char",880,300,"main_char_main_char"),this.createCharacter("npc_1",400,300,"npc_1_npc_1"),this.createCharacter("npc_2",400,300,"npc_2_npc_2"),this.createCharacter("npc_3",400,300,"npc_3_npc_3")}createCharacter(e,t,i,s){if(!this.scene.textures.exists(s))return void console.error(`Texture not found: ${s}`);const r=this.scene.add.sprite(t,i,s);r.setOrigin(.5),r.setScale(this.CHARACTER_SCALE),r.setVisible(!1),r.setDepth(500),this.characters.set(e,r)}updateCharacter(e,t){const i=e.toLowerCase(),s=t.toLowerCase(),r=`${i}_${s}`,n=this.characters.get(e);if(n){if(!this.scene.textures.exists(r))return void console.error(`Texture not found: ${r}`);this.scene.tweens.killTweensOf(n),n.setTexture(r),n.setVisible(!0),this.playEmotionAnimation(n,s)}else console.error(`Character not found: ${e}`)}playEmotionAnimation(e,t){switch(this.scene.tweens.killTweensOf(e),e.setScale(this.CHARACTER_SCALE),e.setAngle(0),t){case"laugh":case"excited":case"happy":this.scene.tweens.add({targets:e,y:e.y-5,duration:1e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"});break;case"sad":case"sleeping":case"crying":this.scene.tweens.add({targets:e,angle:-2,duration:1500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"});break;case"stressed":case"shocked":case"surprised":case"angry":this.scene.tweens.add({targets:e,scaleX:1.04*e.scaleX,duration:500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"});break;case"confused":case"annoyed":case"suspicious":this.scene.tweens.add({targets:e,angle:2,duration:2e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}}hideAllCharacters(){this.characters.forEach((e=>{this.scene.tweens.killTweensOf(e),e.setScale(this.CHARACTER_SCALE),e.setAngle(0),e.setVisible(!1)}))}showCharacter(e){const t=this.characters.get(e),i=this.characterEmotions.get(e);t&&i&&(t.setVisible(!0),this.playEmotionAnimation(t,i))}}class h{scene;bitmapText;fullText="";typewriterTimer;currentCharIndex=0;isTyping=!1;maxScale;minScale;visibleWidth;visibleHeight;fontSize;onCompleteCallback;constructor(e,t,i){this.scene=e,this.bitmapText=t,this.maxScale=i.maxScale,this.minScale=i.minScale,this.visibleWidth=i.visibleWidth,this.visibleHeight=i.visibleHeight,this.fontSize=i.fontSize}wrapText(e,t){const i=e.split(" ");let s="",r="";for(let e=0;e<i.length;e++){const n=s+(s?" ":"")+i[e],o=this.scene.add.bitmapText(0,0,this.bitmapText.font,n,this.fontSize),a=o.getTextBounds().global.width;o.destroy(),a>t&&s?(r+=s+"\n",s=i[e]):s=n}return s&&(r+=s),r}calculateFinalScale(e,t,i){const s=this.wrapText(e,t*this.visibleWidth),r=this.scene.add.bitmapText(0,0,this.bitmapText.font,s,this.fontSize);r.setScale(this.maxScale);const n=r.getTextBounds(),o=n.global.width,a=n.global.height;r.destroy();const c=t*this.visibleWidth/o,h=i*this.visibleHeight/a,d=Math.min(c,h,this.maxScale);return Math.max(d,this.minScale)}start(e,t,i,s=30,r){this.fullText=e,this.currentCharIndex=0,this.isTyping=!0,this.bitmapText.setText("");const n=this.calculateFinalScale(e,t,i);this.bitmapText.setScale(n),this.typewriterTimer&&this.typewriterTimer.remove(!1),this.onCompleteCallback=r,this.typewriterTimer=this.scene.time.addEvent({delay:s,repeat:e.length-1,callback:()=>{this.currentCharIndex++;const e=this.fullText.substring(0,this.currentCharIndex),i=this.wrapText(e,t*this.visibleWidth);this.bitmapText.setText(i),this.currentCharIndex>=this.fullText.length&&(this.isTyping=!1,this.onCompleteCallback&&(this.onCompleteCallback(),this.onCompleteCallback=void 0))}})}skip(e){if(this.isTyping){this.typewriterTimer&&this.typewriterTimer.remove(!1);const t=this.wrapText(this.fullText,e*this.visibleWidth);this.bitmapText.setText(t),this.isTyping=!1,this.onCompleteCallback&&(this.onCompleteCallback(),this.onCompleteCallback=void 0)}}isRunning(){return this.isTyping}}class d{scene;dialogBox;dialogText;typewriter;VISIBLE_TEXT_WIDTH=.95;DIALOG_BOX_VISIBLE_HEIGHT=.7;MIN_TEXT_SCALE=.5;MAX_TEXT_SCALE=1;FONT_SIZE=30;constructor(e){this.scene=e,this.createDialogBox()}createDialogBox(){this.dialogBox=this.scene.add.sprite(640,470,"dialog_box"),this.dialogBox.setOrigin(.5),this.dialogBox.setInteractive(),this.dialogBox.setDepth(1e3),this.dialogText=this.scene.add.bitmapText(640,470,"your_font","",this.FONT_SIZE),this.dialogText.setOrigin(.5),this.dialogText.setMaxWidth(this.dialogBox.width*this.VISIBLE_TEXT_WIDTH),this.dialogText.setCenterAlign(),this.dialogText.setLineSpacing(6),this.dialogText.setDepth(1001),this.typewriter=new h(this.scene,this.dialogText,{maxScale:this.MAX_TEXT_SCALE,minScale:this.MIN_TEXT_SCALE,visibleWidth:this.VISIBLE_TEXT_WIDTH,visibleHeight:this.DIALOG_BOX_VISIBLE_HEIGHT,fontSize:this.FONT_SIZE})}setText(e){const t=this.typewriter.wrapText(e,this.dialogBox.width*this.VISIBLE_TEXT_WIDTH);this.dialogText.setText(t);const i=this.typewriter.calculateFinalScale(e,this.dialogBox.width,this.dialogBox.height);this.dialogText.setScale(i)}setTextWithTypewriter(e,t=30,i){this.typewriter.start(e,this.dialogBox.width,this.dialogBox.height,t,i)}skipTypewriter(){this.typewriter.skip(this.dialogBox.width)}setClickHandler(e){this.dialogBox.removeAllListeners("pointerdown"),this.dialogBox.once("pointerdown",(()=>{e()}))}isTypewriterRunning(){return this.typewriter&&this.typewriter.isRunning()}}class l{scene;choiceButtons;choiceTexts;typewriters;VISIBLE_TEXT_WIDTH=.9;VISIBLE_TEXT_HEIGHT=.7;MIN_TEXT_SCALE=.5;MAX_TEXT_SCALE=1;FONT_SIZE=30;constructor(e){this.scene=e,this.choiceButtons=[],this.choiceTexts=[],this.typewriters=[],this.createChoiceButtons()}createChoiceButtons(){const e=this.scene.add.sprite(400,640,"choice_button"),t=this.scene.add.sprite(880,640,"choice_button");e.setInteractive(),t.setInteractive(),e.setDepth(1e3),t.setDepth(1e3),this.choiceButtons=[e,t];const i=this.scene.add.bitmapText(400,645,"your_font","",this.FONT_SIZE),s=this.scene.add.bitmapText(880,645,"your_font","",this.FONT_SIZE);i.setOrigin(.5),s.setOrigin(.5),i.setCenterAlign(),s.setCenterAlign(),i.setDepth(1001),s.setDepth(1001),this.choiceTexts=[i,s],this.typewriters=[new h(this.scene,i,{maxScale:this.MAX_TEXT_SCALE,minScale:this.MIN_TEXT_SCALE,visibleWidth:this.VISIBLE_TEXT_WIDTH,visibleHeight:this.VISIBLE_TEXT_HEIGHT,fontSize:this.FONT_SIZE}),new h(this.scene,s,{maxScale:this.MAX_TEXT_SCALE,minScale:this.MIN_TEXT_SCALE,visibleWidth:this.VISIBLE_TEXT_WIDTH,visibleHeight:this.VISIBLE_TEXT_HEIGHT,fontSize:this.FONT_SIZE})],this.hideChoices()}showChoices(e,t,i=!1){if(this.hideChoices(),0!==e.length){for(let t=0;t<this.choiceButtons.length;t++)this.choiceButtons[t].removeAllListeners("pointerdown"),this.choiceTexts[t].setText(""),this.choiceTexts[t].setVisible(!1),t<e.length?(this.choiceButtons[t].setVisible(!0),0===t&&this.choiceTexts[t].setVisible(!0)):this.choiceButtons[t].setVisible(!1);e.length>0&&(this.typewriters[0].start(e[0].linkText,this.choiceButtons[0].width,this.choiceButtons[0].height,30,(()=>{e.length>1&&(this.choiceTexts[1].setVisible(!0),this.typewriters[1].start(e[1].linkText,this.choiceButtons[1].width,this.choiceButtons[1].height,30),i&&this.skipTypewriter(1))})),i&&this.skipTypewriter(0));for(let i=0;i<e.length;i++)this.choiceButtons[i].on("pointerdown",(()=>{this.scene.audioManager?.playChoiceSound(i),this.hideChoices(),t(e[i].passageId)}))}}hideChoices(){this.choiceButtons.forEach((e=>e.setVisible(!1))),this.choiceTexts.forEach((e=>{e.setVisible(!1),e.setText("")}))}skipTypewriter(e){this.typewriters[e].skip(this.choiceButtons[e].width)}isTypewriterRunning(e){return this.typewriters[e]&&this.typewriters[e].isRunning()}}class u{scene;currentBackground=null;constructor(e){this.scene=e}updateBackground(e){this.currentBackground&&this.currentBackground.destroy(),this.currentBackground=this.scene.add.sprite(640,360,e.background),this.currentBackground.setDepth(0)}}class p{scene;backgroundMusic=null;isMuted=!1;muteButton;constructor(e){this.scene=e,this.createMuteButton()}createMuteButton(){this.muteButton=this.scene.add.sprite(28,40,"unmute").setOrigin(.5).setScale(.5),this.muteButton.setInteractive(),this.muteButton.setScrollFactor(0),this.muteButton.on("pointerdown",(()=>this.toggleMute())),this.muteButton.setDepth(1e3)}playBackgroundMusic(){this.backgroundMusic&&this.backgroundMusic.stop(),this.backgroundMusic=this.scene.sound.add("background_music",{volume:.1,loop:!0}),this.isMuted||this.backgroundMusic.play()}playVoiceOver(e){if(this.isMuted)return;const t=e.speaker,i=e.emotions||[],s=i.find((e=>e.character===t))?.emotion;if(s){const e=`${t}_${s.toLowerCase()}`;this.scene.sound.get(e)&&this.scene.sound.play(e,{volume:.7})}}playChoiceSound(e){if(this.isMuted)return;const t=`choice_${e+1}`;this.scene.cache.audio.exists(t)&&(this.scene.sound.add(t),this.scene.sound.play(t,{volume:.5}))}toggleMute(){this.isMuted=!this.isMuted,this.backgroundMusic&&(this.isMuted?this.backgroundMusic.pause():this.backgroundMusic.resume()),this.muteButton?.setTexture(this.isMuted?"mute":"unmute")}setMuted(e){this.isMuted=e,this.backgroundMusic&&(this.isMuted?this.backgroundMusic.pause():this.backgroundMusic.resume())}}class g{storyData=null;currentPassage=null;loadStoryData(e){this.storyData=e}getPassageById(e){return this.storyData&&this.storyData.passages.find((t=>t.id===e))||null}getPassageByName(e){return this.storyData&&this.storyData.passages.find((t=>t.name===e))||null}getCurrentPassage(){return this.currentPassage}setCurrentPassage(e){this.currentPassage=e}getCharacterEmotions(e){return e.emotions||[]}getNextPassage(e){return this.getPassageById(e.passageId)}}class f{scene;muteButton;autoPlayButton;isMuted=!1;autoPlay=!1;onAutoPlayChange;onMuteChange;constructor(e,t,i){this.scene=e,this.onAutoPlayChange=t,this.onMuteChange=i,this.createMuteButton(),this.createAutoPlayButton()}createMuteButton(){this.muteButton=this.scene.add.sprite(28,40,"unmute").setOrigin(.5).setScale(.5),this.muteButton.setInteractive(),this.muteButton.setScrollFactor(0),this.muteButton.setDepth(1e3),this.muteButton.on("pointerdown",(()=>this.toggleMute()))}toggleMute(){this.isMuted=!this.isMuted,this.muteButton?.setTexture(this.isMuted?"mute":"unmute"),this.onMuteChange&&this.onMuteChange(this.isMuted)}createAutoPlayButton(){this.autoPlayButton=this.scene.add.sprite(28,80,"autoplay_off").setOrigin(.5).setScale(.5),this.autoPlayButton.setInteractive(),this.autoPlayButton.setScrollFactor(0),this.autoPlayButton.setDepth(1e3),this.autoPlayButton.on("pointerdown",(()=>this.toggleAutoPlay()))}toggleAutoPlay(){this.autoPlay=!this.autoPlay,this.autoPlayButton?.setTexture(this.autoPlay?"autoplay_on":"autoplay_off"),this.onAutoPlayChange&&this.onAutoPlayChange(this.autoPlay)}getAutoPlay(){return this.autoPlay}getMute(){return this.isMuted}}class m extends r().Scene{constructor(){super("VisualNovel")}editorCreate(){this.blackScreen=this.add.rectangle(0,0,1280,720,0).setOrigin(0),this.blackScreen.setDepth(9999),this.loadingText=this.add.text(640,360,"Loading...",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5),this.loadingText.setDepth(1e4);const e=this.add.sprite(880,300,"happy");e.scaleX=.25,e.scaleY=.25;const t=this.add.sprite(400,300,"angry");t.scaleX=.25,t.scaleY=.25;const i=this.add.sprite(640,535,"dialog_box");i.scaleX=.5,i.scaleY=.5;const s=this.add.text(640,480,"",{});s.text="New text",s.setStyle({}),this.add.sprite(400,640,"choice_button"),this.add.sprite(880,640,"choice_button");const r=this.add.text(880,640,"",{});r.text="New text",r.setStyle({});const n=this.add.text(400,640,"",{});n.text="New text",n.setStyle({}),this.events.emit("scene-awake")}characterManager;dialogManager;choiceManager;backgroundManager;audioManager;storyManager;isTransitioning=!1;blackScreen;loadingText;skipCooldown=!1;skipHandler;uiManager;preload(){this.load.json("manifest","assets/manifest.json"),this.load.json("story","assets/story.json"),this.load.once("complete",(()=>{const e=this.cache.json.get("manifest"),t=e.fonts.bitmap;this.load.bitmapFont("your_font",`assets/${t.texture}`,`assets/${t.data}`),e.backgrounds.forEach((e=>{const t=e.split("/").pop()?.split(".")[0]||"";this.load.image(t,`assets/${e}`)})),Object.entries(e.characters).forEach((([e,t])=>{t.forEach((t=>{const i=`${e}_${t.split(".")[0]}`;this.load.image(i,`assets/characters/${e}/${t}`)}))})),this.load.audio("background_music",`assets/${e.audio.bgm}`),e.audio.choices.forEach(((e,t)=>{this.load.audio(`choice_${t+1}`,`assets/${e}`)})),e.ui.forEach((e=>{const t=e.split("/").pop()?.split(".")[0];this.load.image(t,`assets/${e}`)})),this.load.start()})),this.load.start()}create(){this.editorCreate(),this.load.once("complete",(()=>{this.dialogManager=new d(this),this.choiceManager=new l(this),this.backgroundManager=new u(this),this.audioManager=new p(this),this.storyManager=new g,this.characterManager=new c(this);const e=this.cache.json.get("story");e?(this.storyManager.loadStoryData(e),this.audioManager.playBackgroundMusic(),this.blackScreen.destroy(),this.loadingText.destroy(),this.uiManager=new f(this,void 0,(e=>{this.audioManager.setMuted(e)})),this.showPassage(1)):console.error("Story data not found! Make sure story.json is loaded correctly.")}))}showPassage(e){if(console.log("[VN] showPassage",e),this.isTransitioning)return;this.skipHandler&&(console.log("[VN] Removing skip handler"),this.input.off("pointerdown",this.skipHandler),this.skipHandler=void 0),this.isTransitioning=!0;const t=this.storyManager.getPassageById(e);if(!t)return console.error(`Passage with ID ${e} not found`),void(this.isTransitioning=!1);this.storyManager.setCurrentPassage(t),this.backgroundManager.updateBackground(t),this.characterManager.hideAllCharacters(),this.storyManager.getCharacterEmotions(t).forEach((({character:e,emotion:t})=>{this.characterManager.updateCharacter(e,t)})),this.audioManager.playVoiceOver(t),console.log("[VN] Starting typewriter for dialog"),this.dialogManager.setTextWithTypewriter(t.cleanText,30,(()=>{console.log("[VN] Typewriter finished for dialog, removing skip handler"),this.skipHandler&&(this.input.off("pointerdown",this.skipHandler),this.skipHandler=void 0),t.links&&t.links.length>0?this.choiceManager.showChoices(t.links,(e=>{this.isTransitioning=!1,this.showPassage(e)}),this.uiManager.getAutoPlay()):(this.choiceManager.hideChoices(),this.isTransitioning=!1)})),this.uiManager.getAutoPlay()&&this.dialogManager.skipTypewriter(),this.skipHandler=()=>{console.log("[VN] Skip handler triggered"),this.dialogManager.isTypewriterRunning()&&(console.log("[VN] Skipping dialog typewriter"),this.dialogManager.skipTypewriter());for(let e=0;e<2;e++)this.choiceManager.isTypewriterRunning(e)&&(console.log(`[VN] Skipping choice typewriter ${e}`),this.choiceManager.skipTypewriter(e))},this.input.once("pointerup",(()=>{console.log("[VN] Adding skip handler (after pointerup)"),this.input.on("pointerdown",this.skipHandler)}))}}class y extends r().Scene{constructor(){super("Boot")}preload(){this.add.rectangle(0,0,1280,720,0).setOrigin(0),this.load.pack("pack",n)}create(){this.scene.start("Preload")}}window.addEventListener("load",(function(){new(r().Game)({width:1280,height:720,backgroundColor:"#000000",scale:{mode:r().Scale.ScaleModes.FIT,autoCenter:r().Scale.Center.CENTER_BOTH},scene:[y,a,m]}).scene.start("Boot")}))}},r={};function n(e){var t=r[e];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var i=r[e]={exports:{}};try{var o={id:e,module:i,factory:s[e],require:n};n.i.forEach((function(e){e(o)})),i=o.module,o.factory.call(i.exports,i,i.exports,o.require)}catch(e){throw i.error=e,e}return i.exports}n.m=s,n.c=r,n.i=[],e=[],n.O=(t,i,s,r)=>{if(!i){var o=1/0;for(d=0;d<e.length;d++){for(var[i,s,r]=e[d],a=!0,c=0;c<i.length;c++)(!1&r||o>=r)&&Object.keys(n.O).every((e=>n.O[e](i[c])))?i.splice(c--,1):(a=!1,r<o&&(o=r));if(a){e.splice(d--,1);var h=s();void 0!==h&&(t=h)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[i,s,r]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.hu=e=>e+"."+n.h()+".hot-update.js",n.hmrF=()=>"main."+n.h()+".hot-update.json",n.h=()=>"d2203249326ff252cfb6",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},i="phaser3-webpack-template:",n.l=(e,s,r,o)=>{if(t[e])t[e].push(s);else{var a,c;if(void 0!==r)for(var h=document.getElementsByTagName("script"),d=0;d<h.length;d++){var l=h[d];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==i+r){a=l;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",i+r),a.src=e),t[e]=[s];var u=(i,s)=>{a.onerror=a.onload=null,clearTimeout(p);var r=t[e];if(delete t[e],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(s))),i)return i(s)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),c&&document.head.appendChild(a)}},(()=>{var e,t,i,s={},r=n.c,o=[],a=[],c="idle",h=0,d=[];function l(e){c=e;for(var t=[],i=0;i<a.length;i++)t[i]=a[i].call(null,e);return Promise.all(t).then((function(){}))}function u(){0===--h&&l("ready").then((function(){if(0===h){var e=d;d=[];for(var t=0;t<e.length;t++)e[t]()}}))}function p(e){if("idle"!==c)throw new Error("check() is only allowed in idle status");return l("check").then(n.hmrM).then((function(i){return i?l("prepare").then((function(){var s=[];return t=[],Promise.all(Object.keys(n.hmrC).reduce((function(e,r){return n.hmrC[r](i.c,i.r,i.m,e,t,s),e}),[])).then((function(){return t=function(){return e?f(e):l("ready").then((function(){return s}))},0===h?t():new Promise((function(e){d.push((function(){e(t())}))}));var t}))})):l(m()?"ready":"idle").then((function(){return null}))}))}function g(e){return"ready"!==c?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status (state: "+c+")")})):f(e)}function f(e){e=e||{},m();var s=t.map((function(t){return t(e)}));t=void 0;var r=s.map((function(e){return e.error})).filter(Boolean);if(r.length>0)return l("abort").then((function(){throw r[0]}));var n=l("dispose");s.forEach((function(e){e.dispose&&e.dispose()}));var o,a=l("apply"),c=function(e){o||(o=e)},h=[];return s.forEach((function(e){if(e.apply){var t=e.apply(c);if(t)for(var i=0;i<t.length;i++)h.push(t[i])}})),Promise.all([n,a]).then((function(){return o?l("fail").then((function(){throw o})):i?f(e).then((function(e){return h.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):l("idle").then((function(){return h}))}))}function m(){if(i)return t||(t=[]),Object.keys(n.hmrI).forEach((function(e){i.forEach((function(i){n.hmrI[e](i,t)}))})),i=void 0,!0}n.hmrD=s,n.i.push((function(d){var f,m,y,T,w=d.module,v=function(t,i){var s=r[i];if(!s)return t;var n=function(n){if(s.hot.active){if(r[n]){var a=r[n].parents;-1===a.indexOf(i)&&a.push(i)}else o=[i],e=n;-1===s.children.indexOf(n)&&s.children.push(n)}else console.warn("[HMR] unexpected require("+n+") from disposed module "+i),o=[];return t(n)},a=function(e){return{configurable:!0,enumerable:!0,get:function(){return t[e]},set:function(i){t[e]=i}}};for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&"e"!==d&&Object.defineProperty(n,d,a(d));return n.e=function(e,i){return function(e){switch(c){case"ready":l("prepare");case"prepare":return h++,e.then(u,u),e;default:return e}}(t.e(e,i))},n}(d.require,d.id);w.hot=(f=d.id,m=w,T={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:y=e!==f,_requireSelf:function(){o=m.parents.slice(),e=y?void 0:f,n(f)},active:!0,accept:function(e,t,i){if(void 0===e)T._selfAccepted=!0;else if("function"==typeof e)T._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var s=0;s<e.length;s++)T._acceptedDependencies[e[s]]=t||function(){},T._acceptedErrorHandlers[e[s]]=i;else T._acceptedDependencies[e]=t||function(){},T._acceptedErrorHandlers[e]=i},decline:function(e){if(void 0===e)T._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)T._declinedDependencies[e[t]]=!0;else T._declinedDependencies[e]=!0},dispose:function(e){T._disposeHandlers.push(e)},addDisposeHandler:function(e){T._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=T._disposeHandlers.indexOf(e);t>=0&&T._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,c){case"idle":t=[],Object.keys(n.hmrI).forEach((function(e){n.hmrI[e](f,t)})),l("ready");break;case"ready":Object.keys(n.hmrI).forEach((function(e){n.hmrI[e](f,t)}));break;case"prepare":case"check":case"dispose":case"apply":(i=i||[]).push(f)}},check:p,apply:g,status:function(e){if(!e)return c;a.push(e)},addStatusHandler:function(e){a.push(e)},removeStatusHandler:function(e){var t=a.indexOf(e);t>=0&&a.splice(t,1)},data:s[f]},e=void 0,T),w.parents=o,w.children=[],o=[],d.require=v})),n.hmrC={},n.hmrI={}})(),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var s=i.length-1;s>-1&&(!e||!/^http(s?):/.test(e));)e=i[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e,t,i,s,r,o=n.hmrS_jsonp=n.hmrS_jsonp||{792:0},a={};function c(t,i){return e=i,new Promise(((e,i)=>{a[t]=e;var s=n.p+n.hu(t),r=new Error;n.l(s,(e=>{if(a[t]){a[t]=void 0;var s=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;r.message="Loading hot update chunk "+t+" failed.\n("+s+": "+n+")",r.name="ChunkLoadError",r.type=s,r.request=n,i(r)}}))}))}function h(e){function a(e){for(var t=[e],i={},s=t.map((function(e){return{chain:[e],id:e}}));s.length>0;){var r=s.pop(),o=r.id,a=r.chain,h=n.c[o];if(h&&(!h.hot._selfAccepted||h.hot._selfInvalidated)){if(h.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:o};if(h.hot._main)return{type:"unaccepted",chain:a,moduleId:o};for(var d=0;d<h.parents.length;d++){var l=h.parents[d],u=n.c[l];if(u){if(u.hot._declinedDependencies[o])return{type:"declined",chain:a.concat([l]),moduleId:o,parentId:l};-1===t.indexOf(l)&&(u.hot._acceptedDependencies[o]?(i[l]||(i[l]=[]),c(i[l],[o])):(delete i[l],t.push(l),s.push({chain:a.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:i}}function c(e,t){for(var i=0;i<t.length;i++){var s=t[i];-1===e.indexOf(s)&&e.push(s)}}n.f&&delete n.f.jsonpHmr,t=void 0;var h={},d=[],l={},u=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var p in i)if(n.o(i,p)){var g=i[p],f=g?a(p):{type:"disposed",moduleId:p},m=!1,y=!1,T=!1,w="";switch(f.chain&&(w="\nUpdate propagation: "+f.chain.join(" -> ")),f.type){case"self-declined":e.onDeclined&&e.onDeclined(f),e.ignoreDeclined||(m=new Error("Aborted because of self decline: "+f.moduleId+w));break;case"declined":e.onDeclined&&e.onDeclined(f),e.ignoreDeclined||(m=new Error("Aborted because of declined dependency: "+f.moduleId+" in "+f.parentId+w));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(f),e.ignoreUnaccepted||(m=new Error("Aborted because "+p+" is not accepted"+w));break;case"accepted":e.onAccepted&&e.onAccepted(f),y=!0;break;case"disposed":e.onDisposed&&e.onDisposed(f),T=!0;break;default:throw new Error("Unexception type "+f.type)}if(m)return{error:m};if(y)for(p in l[p]=g,c(d,f.outdatedModules),f.outdatedDependencies)n.o(f.outdatedDependencies,p)&&(h[p]||(h[p]=[]),c(h[p],f.outdatedDependencies[p]));T&&(c(d,[f.moduleId]),l[p]=u)}i=void 0;for(var v,b=[],x=0;x<d.length;x++){var _=d[x],E=n.c[_];E&&(E.hot._selfAccepted||E.hot._main)&&l[_]!==u&&!E.hot._selfInvalidated&&b.push({module:_,require:E.hot._requireSelf,errorHandler:E.hot._selfAccepted})}return{dispose:function(){var e;s.forEach((function(e){delete o[e]})),s=void 0;for(var t,i=d.slice();i.length>0;){var r=i.pop(),a=n.c[r];if(a){var c={},l=a.hot._disposeHandlers;for(x=0;x<l.length;x++)l[x].call(null,c);for(n.hmrD[r]=c,a.hot.active=!1,delete n.c[r],delete h[r],x=0;x<a.children.length;x++){var u=n.c[a.children[x]];u&&(e=u.parents.indexOf(r))>=0&&u.parents.splice(e,1)}}}for(var p in h)if(n.o(h,p)&&(a=n.c[p]))for(v=h[p],x=0;x<v.length;x++)t=v[x],(e=a.children.indexOf(t))>=0&&a.children.splice(e,1)},apply:function(t){for(var i in l)n.o(l,i)&&(n.m[i]=l[i]);for(var s=0;s<r.length;s++)r[s](n);for(var o in h)if(n.o(h,o)){var a=n.c[o];if(a){v=h[o];for(var c=[],u=[],p=[],g=0;g<v.length;g++){var f=v[g],m=a.hot._acceptedDependencies[f],y=a.hot._acceptedErrorHandlers[f];if(m){if(-1!==c.indexOf(m))continue;c.push(m),u.push(y),p.push(f)}}for(var T=0;T<c.length;T++)try{c[T].call(null,v)}catch(i){if("function"==typeof u[T])try{u[T](i,{moduleId:o,dependencyId:p[T]})}catch(s){e.onErrored&&e.onErrored({type:"accept-error-handler-errored",moduleId:o,dependencyId:p[T],error:s,originalError:i}),e.ignoreErrored||(t(s),t(i))}else e.onErrored&&e.onErrored({type:"accept-errored",moduleId:o,dependencyId:p[T],error:i}),e.ignoreErrored||t(i)}}}for(var w=0;w<b.length;w++){var x=b[w],_=x.module;try{x.require(_)}catch(i){if("function"==typeof x.errorHandler)try{x.errorHandler(i,{moduleId:_,module:n.c[_]})}catch(s){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:_,error:s,originalError:i}),e.ignoreErrored||(t(s),t(i))}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:_,error:i}),e.ignoreErrored||t(i)}}return d}}}self.webpackHotUpdatephaser3_webpack_template=(t,s,o)=>{for(var c in s)n.o(s,c)&&(i[c]=s[c],e&&e.push(c));o&&r.push(o),a[t]&&(a[t](),a[t]=void 0)},n.hmrI.jsonp=function(e,t){i||(i={},r=[],s=[],t.push(h)),n.o(i,e)||(i[e]=n.m[e])},n.hmrC.jsonp=function(e,a,d,l,u,p){u.push(h),t={},s=a,i=d.reduce((function(e,t){return e[t]=!1,e}),{}),r=[],e.forEach((function(e){n.o(o,e)&&void 0!==o[e]?(l.push(c(e,p)),t[e]=!0):t[e]=!1})),n.f&&(n.f.jsonpHmr=function(e,i){t&&n.o(t,e)&&!t[e]&&(i.push(c(e)),t[e]=!0)})},n.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(n.p+n.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))},n.O.j=e=>0===o[e];var d=(e,t)=>{var i,s,[r,a,c]=t,h=0;if(r.some((e=>0!==o[e]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(c)var d=c(n)}for(e&&e(t);h<r.length;h++)s=r[h],n.o(o,s)&&o[s]&&o[s][0](),o[s]=0;return n.O(d)},l=self.webpackChunkphaser3_webpack_template=self.webpackChunkphaser3_webpack_template||[];l.forEach(d.bind(null,0)),l.push=d.bind(null,l.push.bind(l))})();var o=n.O(void 0,[418],(()=>n(991)));o=n.O(o)})();